    <%= form_with(model: appoinment, local: true) do |form| %>
        <%= form.label :booked_date %>
        <%= form.text_field :booked_date, id: "datepicker", placeholder: "Select date"%>

        <%= form.label :start_time %>
        <%= form.text_field :start_time , class: "timepicker" , id: "start_time" %>

        <%= form.label :end_time %>
        <%= form.text_field :end_time , class: "timepicker", id: 'end_time' %>

        <%= form.select :doctor_id, options_for_select(get_available_doctor(Date.today), "Select Doctor"), {:prompt => '-- Select Doctor --'}, id: 'select_doctor' %>

    <%= form.submit "Save", class: 'btn btn-success' %>
    <% end %>

    <script>
        $(function() {
            var dateToday = new Date();
            var dates = $("#datepicker").datepicker({
                dateFormat: "dd-mm-yy",
                defaultDate: "+1w",
                minDate: dateToday,
                onSelect: function(selectedDate) {
                    event();
                }
            });

            $('.timepicker').timepicker({
                timeFormat: 'h:mm p',
                interval: 60,
                minTime: '10',
                maxTime: '6:00pm',
                defaultTime: '10',
                startTime: '10:00',
                dynamic: false,
                dropdown: true,
                scrollbar: true,
                change: event
            });

        });

        function event() {
            var date = $('#datepicker').val();
            var start_time = $('#start_time').val();
            var end_time = $('#end_time').val();
            console.log("called.....");

            $.ajax({
                url: "/availabilities/available_doctors",
                method: "GET",
                data: {date: date, start_time: start_time, end_time: end_time},
                success: function(result) {
                    if (result.length === 0) {
                        $('#select_doctor').html(new Option("-- Select Doctor --", ""))
                    } else {
                        console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>",result.length);
                        $.each(result, function(key, value) {
                            $('#select_doctor').html(new Option(value[0], value[1]))
                        });
                    }
                },
                error: function() {
                    console.log("Ajax request error");
                },
            });
        }
    </script>